<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="data.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"
      integrity="sha512-XHDcSyqhOoO2ocB7sKOCJEkUjw/pQCJViP1ynpy+EGh/LggzrP6U/V3a++LQTnZT7sCQKeHRyWHfhN2afjXjCg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <style>
      body {
        width: 800px;
        height: 600px;
      }
    </style>
  </head>
  <body></body>
  <script>
    function convertToVisData(data) {
      // @TODO
      // nodes, edges, content (a groupBy id with info to retrieve infos with onclick)
      const nodes = [];
      const edges = [];
      const content = {};
    }

    const validData = convertToVisData(data);

    const nodes = new vis.DataSet(validData.nodes);
    const edges = new vis.DataSet(validData.edges);
    const network = new vis.Network(document.body, { nodes, edges }, {});

    network.on("click", function (params) {
      if (params.nodes.length > 0) {
        const nodeId = params.nodes[0];
        console.log("Node clicked:", nodeId);
      }
    });
  </script>
</html>
